<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Multi-Class Attendance</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f2f2f2;
    }
    h1 {
      color: #333;
    }
    select, button {
      padding: 10px;
      font-size: 16px;
      margin: 10px 0;
      width: 100%;
      max-width: 300px;
    }
    .student-entry {
      margin: 5px 0;
    }
    .class-section {
      margin-bottom: 30px;
      padding: 10px;
      background-color: #fff;
      border: 1px solid #ccc;
    }
    #attendanceResult {
      margin-top: 20px;
      font-weight: bold;
      color: green;
    }
  </style>
</head>
<body>

  <h1>Multi-Class Student Attendance</h1>

  <label for="classSelect">Select Class:</label>
  <select id="classSelect">
    <option value="">-- Select Class --</option>
    <option value="Class10">Class 10</option>
    <option value="Class12">Class 12</option>
  </select>

  <button onclick="loadStudents()">Load Students</button>

  <div id="studentList"></div>

  <button onclick="getAttendance()">Submit Attendance</button>

  <div id="attendanceResult"></div>

  <script>
    const students = {
      Class10: [
        { name: "Amit Kumar", roll: "101" },
        { name: "Neha Singh", roll: "102" },
        { name: "Ravi Verma", roll: "103" }
      ],
      Class12: [
        { name: "Priya Sharma", roll: "201" },
        { name: "Karan Patel", roll: "202" },
        { name: "Anjali Yadav", roll: "203" }
      ]
    };

    const loadedClasses = new Set();

    function loadStudents() {
      const selectedClass = document.getElementById("classSelect").value;
      const studentListDiv = document.getElementById("studentList");

      // Avoid reloading the same class
      if (!selectedClass || loadedClasses.has(selectedClass)) return;

      loadedClasses.add(selectedClass);

      const classDiv = document.createElement("div");
      classDiv.className = "class-section";
      classDiv.id = `section-${selectedClass}`;

      const heading = document.createElement("h3");
      heading.textContent = `Class: ${selectedClass}`;
      classDiv.appendChild(heading);

      students[selectedClass].forEach(student => {
        const div = document.createElement("div");
        div.className = "student-entry";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.id = `${selectedClass}-${student.roll}`;
        checkbox.value = student.roll;
        checkbox.classList.add("student-checkbox");

        const label = document.createElement("label");
        label.htmlFor = checkbox.id;
        label.textContent = `${student.name} (Roll: ${student.roll})`;

        div.appendChild(checkbox);
        div.appendChild(label);
        classDiv.appendChild(div);
      });

      studentListDiv.appendChild(classDiv);
    }

    function getAttendance() {
      const checkboxes = document.querySelectorAll(".student-checkbox");
      const presentRolls = [];

      checkboxes.forEach(cb => {
        if (cb.checked) {
          presentRolls.push(cb.value);
        }
      });

      const resultDiv = document.getElementById("attendanceResult");

      if (presentRolls.length > 0) {
        resultDiv.textContent = "Present Roll Numbers: " + presentRolls.join(", ");
      } else {
        resultDiv.textContent = "No students marked as present.";
      }
    }
  </script>

</body>
</html>
